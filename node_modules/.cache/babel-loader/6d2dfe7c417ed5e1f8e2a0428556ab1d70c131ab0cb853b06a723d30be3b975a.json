{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./AvailableTimesForm.css';import supabase from'../supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AvailableTimesForm=_ref=>{let{onSaveTimes,onDeleteTimes,availableTimes}=_ref;const[times,setTimes]=useState([]);const[timeInput,setTimeInput]=useState('');const[templates,setTemplates]=useState([]);const[templateName,setTemplateName]=useState('');const[selectedTemplate,setSelectedTemplate]=useState('');const[menuTemplate,setMenuTemplate]=useState(null);const[showConfirmation,setShowConfirmation]=useState(false);const[templateToDelete,setTemplateToDelete]=useState(null);const menuRef=useRef(null);// Ref for the menu container\nuseEffect(()=>{const fetchTemplates=async()=>{try{const{data,error}=await supabase.from('templates').select('*');if(error)throw error;setTemplates(data||[]);}catch(error){console.error('Error fetching templates:',error);}};fetchTemplates();},[]);useEffect(()=>{// Close the menu if clicked outside\nconst handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setMenuTemplate(null);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const handleAddTime=()=>{if(timeInput){setTimes([...times,timeInput]);setTimeInput('');}};const handleSave=async()=>{try{await onSaveTimes(times);setTimes([]);}catch(error){console.error('Error saving times:',error);}};const handleSaveTemplate=async()=>{if(templateName&&times.length){try{const newTemplate={name:templateName,times:JSON.stringify(times)};const{error}=await supabase.from('templates').insert([newTemplate]);if(error)throw error;const{data,error:fetchError}=await supabase.from('templates').select('*');if(fetchError)throw fetchError;setTemplates(data||[]);setTemplateName('');setTimes([]);}catch(error){console.error('Error saving template:',error);}}else{alert('Template name or times cannot be empty');}};const handleSelectTemplate=async e=>{const selected=e.target.value;setSelectedTemplate(selected);if(selected){try{const{data,error}=await supabase.from('templates').select('times').eq('name',selected).single();if(error)throw error;const template=data;if(template){setTimes(JSON.parse(template.times));}}catch(error){console.error('Error fetching template:',error);}}else{setTimes([]);}};const handleDeleteTemplate=async()=>{if(templateToDelete){try{const{error}=await supabase.from('templates').delete().eq('name',templateToDelete);if(error)throw error;const{data,error:fetchError}=await supabase.from('templates').select('*');if(fetchError)throw fetchError;setTemplates(data||[]);setShowConfirmation(false);setTemplateToDelete(null);}catch(error){console.error('Error deleting template:',error);}}};const handleConfirmDelete=()=>{handleDeleteTemplate();};const handleActionClick=templateName=>{setMenuTemplate(templateName);setShowConfirmation(false);};const handleMenuAction=action=>{if(action==='Delete'){setTemplateToDelete(menuTemplate);setShowConfirmation(true);}else if(action==='Use'){const template=templates.find(t=>t.name===menuTemplate);if(template){setTimes(JSON.parse(template.times));}setMenuTemplate(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"times-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-side\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Add Times\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:timeInput,onChange:e=>setTimeInput(e.target.value),placeholder:\"Enter available time (e.g., 09:00 AM)\",className:\"input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:handleAddTime,children:\"Add Time\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Times to be saved\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:times.map((time,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-item\",children:[time,/*#__PURE__*/_jsx(\"span\",{className:\"delete-icon\",onClick:()=>setTimes(times.filter((_,i)=>i!==index)),children:\"\\xD7\"})]},index))}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:handleSave,children:\"Save Times\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Active Times in Calendar\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:availableTimes.map((time,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-item\",children:[time,/*#__PURE__*/_jsx(\"span\",{className:\"delete-icon\",onClick:()=>onDeleteTimes([time]),children:\"\\xD7\"})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-side\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"template-section\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Create Template\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:templateName,onChange:e=>setTemplateName(e.target.value),placeholder:\"Template Name\",className:\"input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:handleSaveTemplate,children:\"Save Template\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"template-section\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Use Template\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"select\",value:selectedTemplate,onChange:handleSelectTemplate,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a template\"}),templates.map((template,index)=>/*#__PURE__*/_jsx(\"option\",{value:template.name,children:template.name},index))]}),/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Saved Templates\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:templates.map((template,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-item\",children:[template.name,/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>handleActionClick(template.name),children:\"Actions\"}),menuTemplate===template.name&&/*#__PURE__*/_jsxs(\"div\",{className:\"split-menu\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>handleMenuAction('Use'),children:\"Use Template\"}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>handleMenuAction('Delete'),children:\"Delete Template\"}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-button close-button\",onClick:()=>setMenuTemplate(null),children:\"Close\"})]})]},index))})]})]}),showConfirmation&&/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-dialog\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to delete this template?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-button\",onClick:handleConfirmDelete,children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:()=>setShowConfirmation(false),children:\"No\"})]})]});};export default AvailableTimesForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","supabase","jsx","_jsx","jsxs","_jsxs","AvailableTimesForm","_ref","onSaveTimes","onDeleteTimes","availableTimes","times","setTimes","timeInput","setTimeInput","templates","setTemplates","templateName","setTemplateName","selectedTemplate","setSelectedTemplate","menuTemplate","setMenuTemplate","showConfirmation","setShowConfirmation","templateToDelete","setTemplateToDelete","menuRef","fetchTemplates","data","error","from","select","console","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleAddTime","handleSave","handleSaveTemplate","length","newTemplate","name","JSON","stringify","insert","fetchError","alert","handleSelectTemplate","e","selected","value","eq","single","template","parse","handleDeleteTemplate","delete","handleConfirmDelete","handleActionClick","handleMenuAction","action","find","t","className","children","type","onChange","placeholder","onClick","map","time","index","filter","_","i","ref"],"sources":["C:/Users/jarno/Desktop/Spa-Website/babyspa/src/components/AvailableTimesForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './AvailableTimesForm.css';\r\nimport supabase from '../supabaseClient';\r\n\r\nconst AvailableTimesForm = ({ onSaveTimes, onDeleteTimes, availableTimes }) => {\r\n    const [times, setTimes] = useState([]);\r\n    const [timeInput, setTimeInput] = useState('');\r\n    const [templates, setTemplates] = useState([]);\r\n    const [templateName, setTemplateName] = useState('');\r\n    const [selectedTemplate, setSelectedTemplate] = useState('');\r\n    const [menuTemplate, setMenuTemplate] = useState(null);\r\n    const [showConfirmation, setShowConfirmation] = useState(false);\r\n    const [templateToDelete, setTemplateToDelete] = useState(null);\r\n    const menuRef = useRef(null); // Ref for the menu container\r\n\r\n    useEffect(() => {\r\n        const fetchTemplates = async () => {\r\n            try {\r\n                const { data, error } = await supabase\r\n                    .from('templates')\r\n                    .select('*');\r\n\r\n                if (error) throw error;\r\n\r\n                setTemplates(data || []);\r\n            } catch (error) {\r\n                console.error('Error fetching templates:', error);\r\n            }\r\n        };\r\n\r\n        fetchTemplates();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Close the menu if clicked outside\r\n        const handleClickOutside = (event) => {\r\n            if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n                setMenuTemplate(null);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleAddTime = () => {\r\n        if (timeInput) {\r\n            setTimes([...times, timeInput]);\r\n            setTimeInput('');\r\n        }\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        try {\r\n            await onSaveTimes(times);\r\n            setTimes([]);\r\n        } catch (error) {\r\n            console.error('Error saving times:', error);\r\n        }\r\n    };\r\n\r\n    const handleSaveTemplate = async () => {\r\n        if (templateName && times.length) {\r\n            try {\r\n                const newTemplate = { name: templateName, times: JSON.stringify(times) };\r\n                const { error } = await supabase\r\n                    .from('templates')\r\n                    .insert([newTemplate]);\r\n\r\n                if (error) throw error;\r\n\r\n                const { data, error: fetchError } = await supabase\r\n                    .from('templates')\r\n                    .select('*');\r\n\r\n                if (fetchError) throw fetchError;\r\n\r\n                setTemplates(data || []);\r\n                setTemplateName('');\r\n                setTimes([]);\r\n            } catch (error) {\r\n                console.error('Error saving template:', error);\r\n            }\r\n        } else {\r\n            alert('Template name or times cannot be empty');\r\n        }\r\n    };\r\n\r\n    const handleSelectTemplate = async (e) => {\r\n        const selected = e.target.value;\r\n        setSelectedTemplate(selected);\r\n\r\n        if (selected) {\r\n            try {\r\n                const { data, error } = await supabase\r\n                    .from('templates')\r\n                    .select('times')\r\n                    .eq('name', selected)\r\n                    .single();\r\n\r\n                if (error) throw error;\r\n\r\n                const template = data;\r\n                if (template) {\r\n                    setTimes(JSON.parse(template.times));\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching template:', error);\r\n            }\r\n        } else {\r\n            setTimes([]);\r\n        }\r\n    };\r\n\r\n    const handleDeleteTemplate = async () => {\r\n        if (templateToDelete) {\r\n            try {\r\n                const { error } = await supabase\r\n                    .from('templates')\r\n                    .delete()\r\n                    .eq('name', templateToDelete);\r\n\r\n                if (error) throw error;\r\n\r\n                const { data, error: fetchError } = await supabase\r\n                    .from('templates')\r\n                    .select('*');\r\n\r\n                if (fetchError) throw fetchError;\r\n\r\n                setTemplates(data || []);\r\n                setShowConfirmation(false);\r\n                setTemplateToDelete(null);\r\n            } catch (error) {\r\n                console.error('Error deleting template:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleConfirmDelete = () => {\r\n        handleDeleteTemplate();\r\n    };\r\n\r\n    const handleActionClick = (templateName) => {\r\n        setMenuTemplate(templateName);\r\n        setShowConfirmation(false);\r\n    };\r\n\r\n    const handleMenuAction = (action) => {\r\n        if (action === 'Delete') {\r\n            setTemplateToDelete(menuTemplate);\r\n            setShowConfirmation(true);\r\n        } else if (action === 'Use') {\r\n            const template = templates.find((t) => t.name === menuTemplate);\r\n            if (template) {\r\n                setTimes(JSON.parse(template.times));\r\n            }\r\n            setMenuTemplate(null);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"times-form\">\r\n            <div className=\"left-side\">\r\n                <div className=\"form-group\">\r\n                    <h4 className=\"label\">Add Times</h4>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={timeInput}\r\n                        onChange={(e) => setTimeInput(e.target.value)}\r\n                        placeholder=\"Enter available time (e.g., 09:00 AM)\"\r\n                        className=\"input\"\r\n                    />\r\n                    <button className=\"add-button\" onClick={handleAddTime}>Add Time</button>\r\n                </div>\r\n\r\n                <div>\r\n                    <h4 className=\"label\">Times to be saved</h4>\r\n                    <ul className=\"list\">\r\n                        {times.map((time, index) => (\r\n                            <li key={index} className=\"list-item\">\r\n                                {time}\r\n                                <span className=\"delete-icon\" onClick={() => setTimes(times.filter((_, i) => i !== index))}>×</span>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                    <button className=\"save-button\" onClick={handleSave}>Save Times</button>\r\n                </div>\r\n\r\n                <div>\r\n                    <h4 className=\"label\">Active Times in Calendar</h4>\r\n                    <ul className=\"list\">\r\n                        {availableTimes.map((time, index) => (\r\n                            <li key={index} className=\"list-item\">\r\n                                {time}\r\n                                <span className=\"delete-icon\" onClick={() => onDeleteTimes([time])}>×</span>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"right-side\">\r\n                <div className=\"template-section\">\r\n                    <h4 className=\"label\">Create Template</h4>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={templateName}\r\n                        onChange={(e) => setTemplateName(e.target.value)}\r\n                        placeholder=\"Template Name\"\r\n                        className=\"input\"\r\n                    />\r\n                    <button className=\"add-button\" onClick={handleSaveTemplate}>Save Template</button>\r\n                </div>\r\n\r\n                <div className=\"template-section\">\r\n                    <h4 className=\"label\">Use Template</h4>\r\n                    <select className=\"select\" value={selectedTemplate} onChange={handleSelectTemplate}>\r\n                        <option value=\"\">Select a template</option>\r\n                        {templates.map((template, index) => (\r\n                            <option key={index} value={template.name}>\r\n                                {template.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <h4 className=\"label\">Saved Templates</h4>\r\n                    <ul className=\"list\">\r\n                        {templates.map((template, index) => (\r\n                            <li key={index} className=\"list-item\">\r\n                                {template.name}\r\n                                <button\r\n                                    className=\"menu-button\"\r\n                                    onClick={() => handleActionClick(template.name)}\r\n                                >\r\n                                    Actions\r\n                                </button>\r\n                                {menuTemplate === template.name && (\r\n                                    <div className=\"split-menu\" ref={menuRef}>\r\n                                        <button\r\n                                            className=\"menu-button\"\r\n                                            onClick={() => handleMenuAction('Use')}\r\n                                        >\r\n                                            Use Template\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"menu-button\"\r\n                                            onClick={() => handleMenuAction('Delete')}\r\n                                        >\r\n                                            Delete Template\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"menu-button close-button\"\r\n                                            onClick={() => setMenuTemplate(null)}\r\n                                        >\r\n                                            Close\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            {showConfirmation && (\r\n                <div className=\"confirmation-dialog\">\r\n                    <p>Are you sure you want to delete this template?</p>\r\n                    <button className=\"confirm-button\" onClick={handleConfirmDelete}>Yes</button>\r\n                    <button className=\"cancel-button\" onClick={() => setShowConfirmation(false)}>No</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AvailableTimesForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}